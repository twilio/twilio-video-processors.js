{"version":3,"file":"index.js","sourceRoot":"","sources":["../../../../lib/processors/pipelines/webgl2pipeline/index.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AACA,wCAAuC;AACvC,uEAAsE;AACtE,iFAAgF;AAEhF;;GAEG;AACH;IAAoC,kCAAQ;IAA5C;QAAA,qEAsBC;QAnBoB,aAAO,GAAiE,EAAE,CAAC;;IAmBhG,CAAC;IAjBC,gCAAO,GAAP;QACE,IAAI,CAAC,OAAO,CAAC,OAAO,CAClB,UAAC,KAAK,IAAK,OAAA,KAAK,CAAC,OAAO,EAAE,EAAf,CAAe,CAC3B,CAAC;IACJ,CAAC;IAED,+BAAM,GAAN,UACE,UAAuB,EACvB,gBAA4B;QAEtB,IAAA,KAA+B,IAAI,CAAC,OAAO,EAA1C,UAAU,QAAA,EAAK,WAAW,cAAgB,CAAC;QAClD,UAAU,CAAC,MAAM,CAAC,UAAU,EAAE,gBAAgB,CAAC,CAAC;QAChD,WAAW,CAAC,OAAO,CACjB,UAAC,KAAK,IAAK,OAAC,KAAuC;aAChD,MAAM,EAAE,EADA,CACA,CACZ,CAAC;IACJ,CAAC;IApBM,yBAAU,GAAG,mDAAwB,AAA3B,CAA4B;IACtC,8BAAe,GAAG,6DAA6B,AAAhC,CAAiC;IAoBzD,qBAAC;CAAA,AAtBD,CAAoC,mBAAQ,GAsB3C;AAtBY,wCAAc","sourcesContent":["import { InputFrame } from '../../../types';\nimport { Pipeline } from '../Pipeline';\nimport { WebGL2PipelineInputStage } from './WebGL2PipelineInputStage';\nimport { WebGL2PipelineProcessingStage } from './WebGL2PipelineProcessingStage';\n\n/**\n * @private\n */\nexport class WebGL2Pipeline extends Pipeline {\n  static InputStage = WebGL2PipelineInputStage;\n  static ProcessingStage = WebGL2PipelineProcessingStage;\n  protected readonly _stages: (WebGL2PipelineInputStage | WebGL2PipelineProcessingStage)[] = [];\n\n  cleanUp(): void {\n    this._stages.forEach(\n      (stage) => stage.cleanUp()\n    );\n  }\n\n  render(\n    inputFrame?: InputFrame,\n    inputTextureData?: ImageData\n  ): void {\n    const [inputStage, ...otherStages] = this._stages;\n    inputStage.render(inputFrame, inputTextureData);\n    otherStages.forEach(\n      (stage) => (stage as WebGL2PipelineProcessingStage)\n        .render()\n    );\n  }\n}\n"]}