{"version":3,"file":"GaussianBlurBackgroundProcessorPipeline.worker.js","sourceRoot":"","sources":["../../../../../lib/processors/background/pipelines/backgroundprocessorpipeline/GaussianBlurBackgroundProcessorPipeline.worker.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,mCAA2C;AAC3C,qGAAoG;AAEpG;;GAEG;AACH;IAAmE,iEAAuC;IAA1G;;IAaA,CAAC;IAZO,8DAAM,GAAZ,UAAa,UAAoC;;;;;4BAC3B,qBAAM,iBAAM,MAAM,YAAC,UAAU,CAAC,EAAA;;wBAA5C,WAAW,GAAG,SAA8B;wBAE5C,YAAY,GAAG,WAAW,YAAY,eAAe;4BACzD,CAAC,CAAC,WAAW,CAAC,qBAAqB,EAAE;4BACrC,CAAC,CAAC,WAAW,CAAC;wBAEhB,sBAAO,YAAY,IAAI,IAAA,kBAAQ,EAC7B,YAAY,EACZ,CAAC,YAAY,CAAC,CACf,EAAC;;;;KACH;IACH,oDAAC;AAAD,CAAC,AAbD,CAAmE,iFAAuC,GAazG;AAbY,sGAA6C;AAe1D,IAAA,gBAAM,EAAC,6CAA6C,CAAC,CAAC","sourcesContent":["import { expose, transfer } from 'comlink';\nimport { GaussianBlurBackgroundProcessorPipeline } from './GaussianBlurBackgroundProcessorPipeline';\n\n/**\n * @private\n */\nexport class GaussianBlurBackgroundProcessorPipelineWorker extends GaussianBlurBackgroundProcessorPipeline {\n  async render(inputFrame: VideoFrame | ImageBitmap): Promise<ImageBitmap | null> {\n    const outputFrame = await super.render(inputFrame);\n\n    const outputBitmap = outputFrame instanceof OffscreenCanvas\n      ? outputFrame.transferToImageBitmap()\n      : outputFrame;\n\n    return outputBitmap && transfer(\n      outputBitmap,\n      [outputBitmap]\n    );\n  }\n}\n\nexpose(GaussianBlurBackgroundProcessorPipelineWorker);\n"]}